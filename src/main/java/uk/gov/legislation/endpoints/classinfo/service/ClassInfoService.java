package uk.gov.legislation.endpoints.classinfo.service;import jakarta.servlet.http.HttpServletRequest;import org.springframework.stereotype.Service;import uk.gov.legislation.data.virtuoso.Virtuoso;import uk.gov.legislation.data.virtuoso.model.Resources;import java.io.IOException;@Servicepublic class ClassInfoService {    private final Virtuoso virtuoso;    public ClassInfoService(Virtuoso virtuoso) {        this.virtuoso = virtuoso;    }    public String retrieveClassDataAsJson(String type, HttpServletRequest acceptHeader) throws IOException, InterruptedException {        return executeRdfQuery(type, acceptHeader);    }    private String executeRdfQuery(String type, HttpServletRequest acceptHeader) throws IOException, InterruptedException {        String query = """                SELECT ?s ?p ?o                WHERE {                   BIND(<%s%s> AS ?s)                   ?s ?p ?o                }            """.formatted(Resources.Leg.Prefix, type);        return virtuoso.query(query,true, acceptHeader);    }}